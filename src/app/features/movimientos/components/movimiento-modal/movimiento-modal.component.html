<!-- ===== BEGIN PATCH: movimiento-modal.component.html ===== -->

<div>

 <div class="mm-backdrop" (click)="onCancel()"></div>

 <div class="mm-panel" role="dialog" aria-modal="true" (click)="$event.stopPropagation()">

 <div class="mm-header">

 <div class="mm-title">Nuevo Movimiento</div>

 <button class="mm-close" (click)="onCancel()" aria-label="Cerrar"></button>

 </div>

 <div class="mm-body">

<form [formGroup]="form" (ngSubmit)="onSubmit()">

<div class="row">

<label>Tipo</label>

<select formControlName="tipo" [disabled]="soloSalida">

<option value="ENTRADA">ENTRADA</option>

<option value="SALIDA">SALIDA</option>

</select>

</div>

<div class="row">

<label>Producto</label>

<input type="text" formControlName="search" placeholder="Buscar por SKU o nombre">

<div class="results" *ngIf="resultados.length">

<button type="button" *ngFor="let p of resultados" (click)="seleccionar(p)">

{{ p.sku }} - {{ p.nombre }} &nbsp; (Stock: {{ p.stock }})

</button>

</div>

</div>

<div class="row">

<label>Cantidad</label>

<input type="number" min="1" formControlName="cantidad">

</div>

<div class="hint" *ngIf="seleccionado">

Stock actual: <strong>{{ seleccionado?.stock }}</strong>

&nbsp;|&nbsp; Mínimo: <strong>{{ seleccionado?.minimo }}</strong>

&nbsp;|&nbsp; Máximo: <strong>{{ seleccionado?.stockMaximo }}</strong>

</div>

 <div class="mm-actions">

 <button class="mm-btn ghost" type="button" (click)="onCancel()">Cancelar</button>

  <button class="mm-btn primary" type="submit" [disabled]="form.invalid">

  Registrar

 </button>

 </div>

</form>

</div>

</div>

</div>

<!-- ===== END PATCH ===== -->